"use strict";(function(){function e(){window.eModal.ajax({loadingHtml:'<span class="fa fa-circle-o-notch fa-spin fa-3x text-primary"><\/span><span class="h4">Cargando<\/span>',url:"/Notifications/Schedule?entitype="+$("#EntityName").val()+"&entityId="+$("#Id").val(),title:"Notificación",buttons:[{text:"Cerrar",style:"danger",close:!0,click:function(){}},{text:"Agendar",style:"info",close:!1,click:function(){t()}}]}).then(function(){u()})}function o(){window.eModal.ajax({loadingHtml:'<span class="fa fa-circle-o-notch fa-spin fa-3x text-primary"><\/span><span class="h4">Cargando<\/span>',url:"/Notifications/Schedule?entitype="+$("#EntityName").val()+"&entityId="+$("#Id").val()+"&showAlert=true",title:"Notificación",buttons:[{text:"Cerrar",style:"danger",close:!0,click:function(){}},{text:"Agendar",style:"info",close:!1,click:function(){t()}}]}).then(function(){u()})}function s(){var n=$(this).data("id");abp.message.confirm("¿Eliminar elemento?",function(t){t&&i["delete"](n).done(function(){abp.notify.success("Elemento eliminado...");abp.event.trigger("notifications")})})}function t(){var t=$("#ScheduleForm").serializeFormToObject();console.log(t);t.NotifyDate=t.NotifyDate+" "+t.NotifyTime;i.createOrUpdate(t).done(function(){window.eModal.close();n=!1;f();abp.notify.success("Notificación agendada...");abp.event.trigger("notifications")})}function r(i){i.keyCode===13&&n&&(i.preventDefault(),t())}function u(){f();$(document).on("keypress","input",r)}function f(){$(document).unbind("keypress",r)}function h(){$(".sparkline").each(function(){var n=$(this);n.sparkline("html",n.data())})}var i=abp.services.app.notification,n;window.openNotificationDetails=function(n){var i=$(n).data("id"),t=$(".js-element-container-"+i);abp.ui.setBusy(t);t.load("/Notifications/GetStatusStats/"+i,function(){abp.ui.clearBusy(t)})};n=!1;$(".js-place-notification").click(e);$(".js-place-notification-p").click(o);$("body").on("click",".js-delete-notification",s);h()})();