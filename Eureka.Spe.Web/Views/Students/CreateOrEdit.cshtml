@using Castle.Core.Internal
@model Eureka.Spe.StudentsInfo.Students.Dto.StudentDto

@section Styles{
    <link href="~/Views/Students/CreateOrEdit.css" rel="stylesheet" />
}

<form id="AddEditStudentForm" role="form" novalidate class="form-validation">
    <input type="hidden" name="Id" value="@Model.Id" />
    <input type="hidden" name="TenantId" value="@Model.TenantId" />
    <div class="row">
        <div class="col-sm-12 col-small-center">
            <div class="card">
                <div class="header">
                    <h2>Información Personal</h2>
                </div>
                <div class="body">
                    <div class="row">
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group form-float">
                                        <div class="form-line">
                                            <input id="Name" type="text" name="Name" value="@Model.Name" required maxlength="32" class="validate form-control">
                                            <label for="Name" class="form-label">Nombre</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="form-group form-float">
                                        <div class="form-line">
                                            <input id="Surname" type="text" name="Surname" value="@Model.Surname" required maxlength="32" class="validate form-control">
                                            <label for="Surname" class="form-label">Apellidos</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-sm-12">
                                    <div class="form-group form-floar">
                                        <div class="form-line">
                                            <label class="control-label">
                                                @L("Careers")
                                            </label>
                                            @{Html.RenderAction("CareersSelector", "Layout", new {selected = Model.CareerId});}
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12">
                                    <div class="form-group form-float">
                                        <div class="form-line">
                                            <input id="EnrollCode" type="text" name="EnrollCode" value="@Model.EnrollCode" required maxlength="32" class="validate form-control">
                                            <label for="EnrollCode" class="form-label">Matricula</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div class="col-sm-4">
                            <h4 class="text-center">Foto de perfil (opcional)</h4>
                            <div class="form-group form-float">

                                <div class="" id="upload">
                                    @if (Model.Img.IsNullOrEmpty())
                                    {
                                        <img id="iconPlaceHolder" src=""/>
                                    }
                                    else
                                    {
                                        <img id="iconPlaceHolder" src="@Model.Img"/>
                                    }
                                    <input style="display: none" name="icon" id="icon" type="file" class="validate form-control">
                                    <input type="hidden" value="@Model.Img" name="img" id="img"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-small-center">
            <div class="card">
                <div class="header">
                    <h2>Información Académica</h2>
                </div>
                <div class="body">

                    <div class="row clearfix">
                        @if (Model.Id == 0)
                        {
                            <div class="col-sm-12">
                                <div class="form-group form-float">
                                    <div class="form-line">
                                        <input id="Password" type="password" name="Password" value="@Model.Password" required class="validate form-control">
                                        <label for="Password" class="form-label">Contraseña</label>
                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="stick-bottom">

        <div class="btn-container">

            <a @(Model.Id == 0 ? "" : "href=/Students/Manage/" + Model.Id) @(Model.Id == 0 ? "disabled" : "") class="btn btn-lg btn-default">Administrar</a>
            <button type="submit" class="btn btn-lg btn-primary">Guardar</button>
        </div>
    </div>
</form>
@section Scripts{
    <script src="~/js/helpers.js"></script>
    <script src="~/Views/Students/CreateOrEdit.js"></script>
}
