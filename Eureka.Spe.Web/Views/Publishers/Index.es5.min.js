"use strict";(function(){function i(){n.bootstrapTable({method:"post",locale:"es-Es",columns:[{title:"Nombre",field:"name",sortable:!0,formatter:function(n,t){return'<img style="width:32px;height:32px;" src="'+t.img+'" /> '+n}},{title:"Acciones",formatter:function(n,t){var i='<a class="btn btn-primary btn-xs waves-effect waves-teal btn-flat js-edit-publisher" data-id="'+t.id+'"><i data-id="'+t.id+'" class="material-icons left">edit<\/i><\/a>',r='<a class="btn btn-danger btn-xs waves-effect waves-teal btn-flat js-delete-publisher" data-id="'+t.id+'"><i data-id="'+t.id+'" class="material-icons left">delete<\/i><\/a>';return[i,r].join(" ")}}],toolbar:".toolbar",clickToSelect:!0,showRefresh:!0,search:!0,showToggle:!0,showColumns:!0,pagination:!0,pageSize:8,pageList:[8,10,25,50,100],formatRecordsPerPage:function(n){return n+" rows visible"},icons:{refresh:"fa fa-refresh",toggle:"fa fa-th-list",columns:"fa fa-columns",detailOpen:"fa fa-plus-circle",detailClose:"fa fa-minus-circle"},responseHandler:function(n){return{rows:n.result.items,total:n.result.totalCount}}})}var n=$("#table"),t=abp.services.app.publisher;i();$("body").on("click",".js-edit-publisher",function(){var i=$(this).data("id");window.eModal.ajax({loadingHtml:'<span class="fa fa-circle-o-notch fa-spin fa-3x text-primary"><\/span><span class="h4">Cargando<\/span>',url:"/Publishers/CreateOrEdit/"+i,title:"Crear categoría",buttons:[{text:"Cerrar",style:"danger",close:!0,click:function(){}},{text:"Guardar",style:"info",close:!1,click:function(){var i=$("#AddEditPublisherForm").serializeFormToObject();t.createOrUpdate(i).done(function(){window.eModal.close();n.bootstrapTable("refresh");abp.notify.success("Elemento guardado con exito...")})}}]}).then(function(){})});$("body").on("click",".js-delete-publisher",function(){var i=$(this).data("id");abp.message.confirm("Desea eliminar este elemento?",function(r){r&&t["delete"](i).done(function(){n.bootstrapTable("refresh");abp.notify.success("Elemento eliminado con exito...")})})});$(".js-add-publisher").click(function(){window.eModal.ajax({loadingHtml:'<span class="fa fa-circle-o-notch fa-spin fa-3x text-primary"><\/span><span class="h4">Cargando<\/span>',url:"/Publishers/CreateOrEdit",title:"Crear categoría",buttons:[{text:"Cerrar",style:"danger",close:!0,click:function(){}},{text:"Guardar",style:"info",close:!1,click:function(){var i=$("#AddEditPublisherForm").serializeFormToObject();console.log(i);t.createOrUpdate(i).done(function(){window.eModal.close();n.bootstrapTable("refresh");abp.notify.success("Elemento guardado con exito...")})}}]}).then(function(){})})})();